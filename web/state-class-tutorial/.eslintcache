[{"C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\App\\App.js":"1","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\App\\useToken.js":"2","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Offer.js":"3","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Home.js":"4","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Login\\Login.js":"5","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Contact.js":"6","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Weather.js":"7"},{"size":1558,"mtime":1609595488350,"results":"8","hashOfConfig":"9"},{"size":1265,"mtime":1609594609526,"results":"10","hashOfConfig":"9"},{"size":3242,"mtime":1609594749136,"results":"11","hashOfConfig":"9"},{"size":1324,"mtime":1609521727972,"results":"12","hashOfConfig":"9"},{"size":1914,"mtime":1609522169257,"results":"13","hashOfConfig":"9"},{"size":6882,"mtime":1609586957821,"results":"14","hashOfConfig":"9"},{"size":723,"mtime":1609514824828,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},"b0huoq",{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"19"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"19"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"19"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"19"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\App\\App.js",["36","37","38"],"import React, { useState, Component } from 'react';\nimport { FaHome } from 'react-icons/fa';\nimport {\n    Route,\n    NavLink,\n    HashRouter,\n} from 'react-router-dom';\nimport './App.css';\nimport Login from '../Login/Login';\nimport useToken from './useToken';\nimport Home from \"../Home\";\nimport Offer from \"../Offer\";\nimport Contact from \"../Contact\";\nimport { Button } from 'react-bootstrap';\n\nfunction App() {\n\n    const { token, setToken } = useToken();\n\n    if(!token) {\n        return <Login setToken={setToken} />\n    }\n\n    return (\n        <HashRouter>\n            <div>\n                <h1 > <FaHome/>Nieruchomości</h1>\n                <ul className=\"header\">\n                    <li ><NavLink exact to=\"/\">Strona domowa </NavLink></li>\n                    <li><NavLink to=\"/offer\">Oferty</NavLink></li>\n                    <li><NavLink to=\"/contact\">Kontakt</NavLink></li>\n                    <li><button onClick={logout}>Logout</button></li>\n                    <li><input value={getUsername()} readOnly={true} style={{width: \"70px\" }}></input></li>\n                </ul>\n                <div className=\"content\">\n                    <Route exact to path=\"/\" component={Home}/>\n                    <Route path=\"/offer\" component={Offer}/>\n                    <Route path=\"/contact\" component={Contact}/>\n                </div>\n            </div>\n        </HashRouter>\n    );\n}\nfunction logout() {\n    localStorage.clear();\n    window.location.href = '/';\n}\nfunction getUsername(){\n    return localStorage.getItem('username')\n}\nexport default App;",["39","40"],"C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\App\\useToken.js",["41"],"import { useState } from 'react';\r\nimport axios from \"axios\";\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        const tokenString = localStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken?.token\r\n    };\r\n\r\n    const [token, setToken] = useState(getToken());\r\n\r\n    const saveToken = userToken => {\r\n         localStorage.setItem('token', JSON.stringify(userToken));\r\n         const str = JSON.stringify(userToken);\r\n         const obj = JSON.parse(str)\r\n         localStorage.setItem('tokenKey', obj.token);\r\n        // localStorage.setItem('role', obj.role)\r\n        getRole()\r\n       setToken(userToken.token);\r\n    };\r\n\r\n    return {\r\n        setToken: saveToken,\r\n        token\r\n    }\r\n    function getRole() {\r\n        const context = this;\r\n        axios.get('http://localhost:8080/users/getRole/' + localStorage.getItem('username'), {\r\n            headers: {\r\n                Authorization: localStorage.getItem('tokenKey'),\r\n            }\r\n        }).then(function (response) {\r\n            localStorage.setItem('role', response.data)\r\n        }).catch(function () {\r\n            alert('An unexpected error occurred, check browser logs for details');\r\n        });\r\n    }\r\n\r\n}","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Offer.js",["42"],"import React from 'react';\r\nimport axios from \"axios\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {getRole} from \"dom-accessibility-api\";\r\n\r\nclass Offer extends React.Component {\r\n    role;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            offers: []\r\n        }\r\n\r\n        this.loadOffers();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <TableContainer component={Paper}>\r\n                <Table size=\"small\" aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>Nazwa nieruchomości</TableCell>\r\n                            <TableCell align=\"right\">Adres</TableCell>\r\n                            <TableCell align=\"right\">Powierzchnia(m2)</TableCell>\r\n                            <TableCell align=\"right\">Cena(zł)</TableCell>\r\n                            <TableCell  align=\"right\"><p hidden={!this.isAdmin()}>Akcje</p></TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {this.state.offers.map((row) => (\r\n                            <TableRow key={row.name}>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    {row.name}\r\n                                </TableCell>\r\n                                <TableCell align=\"right\">{row.address}</TableCell>\r\n                                <TableCell align=\"right\">{row.area}</TableCell>\r\n                                <TableCell align=\"right\">{row.price}</TableCell>\r\n                                <TableCell align=\"right\"><button onClick={() => this.deleteOffer(row.id)} hidden={!this.isAdmin()}>Usuń ofertę</button></TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        );\r\n    }\r\n\r\n    isAdmin() {\r\n        if (localStorage.getItem('role') === 'ROLE_ADMIN'){\r\n            return true;\r\n        }else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    loadOffers() {\r\n        const context = this;\r\n        axios.get('http://localhost:8080/offers', {\r\n            headers: {\r\n                Authorization: localStorage.getItem('tokenKey')\r\n            }\r\n        }).then(function (response) {\r\n            context.setState({offers: response.data});\r\n        }).catch(function () {\r\n            alert('Nie pobrano danych');\r\n        });\r\n    }\r\n\r\n    deleteOffer(id) {\r\n        return fetch('http://localhost:8080/offers/delete/' + id, {\r\n            method: 'POST',\r\n            headers: {\r\n                Authorization: localStorage.getItem('tokenKey'),\r\n                'Content-Type': 'application/json'\r\n            }\r\n            }).then(window.location.reload())\r\n            .catch(err => err);\r\n    }\r\n\r\n}\r\n\r\nexport default Offer;","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Home.js",["43"],"import React, { Component } from \"react\";\r\nimport Weather from \"./Weather\";\r\nclass Home extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Strona domowa</h2>\r\n                <p>Sprzedaż czy kupno nieruchomości to dla większości Klientów bardzo ważna życiowa decyzja.\r\n                    Korzystna i zarazem udana transakcja kupna lub sprzedaży domu, mieszkania czy lokalu wymaga szerokiej wiedzy z zakresu prawa,\r\n                    finansów, zagadnień technicznych i przede wszystkim znajomości lokalnego rynku nieruchomości.\r\n                    W takim momencie niezbędna może okazać się wiedza osób zawodowo zajmujących się pośrednictwem w obrocie nieruchomościami.\r\n                    Na stronie znajdują się nie tylko ogłoszenia nieruchomości, ale także porady oraz szczegóły na jakie należy zwrócić uwage podczas zakupu wymarzonego obiektu.\r\n                </p>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default () => {\r\n    return(\r\n        <>\r\n            <table>\r\n                <tr>\r\n                    <td>\r\n                        <Home />\r\n                    </td>\r\n                  <td>\r\n                      <Weather />\r\n                  </td>\r\n                </tr>\r\n            </table>\r\n        </>\r\n    )\r\n}","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Login\\Login.js",[],"C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Contact.js",["44","45","46","47","48","49"],"import React, {Component} from 'react';\r\n\r\nclass Contract extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            fields: {name:localStorage.getItem('contactName'), surname:localStorage.getItem('contactSurname'), email:localStorage.getItem('contactEmail'), query:localStorage.getItem('contactQuery')},\r\n            errors: {}\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"contractForm\" onSubmit={this.contactSubmit.bind(this)} id=\"contactForm\" ref={(el) => this.myFormRef = el}>\r\n                <h2>Formularz kontaktowy</h2>\r\n                <fieldset>\r\n                    <div>\r\n                        <label htmlFor=\"name\">Imię</label><br/>\r\n                        <input id=\"name\" placeholder=\"Uzupełnij imię\" onChange={this.handleChange.bind(this, \"name\")}\r\n                               value={this.state.fields[\"name\"]}/>\r\n                        <span style={{color: \"red\"}}>{this.state.errors[\"name\"]}</span>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"surname\">Nazwisko</label><br/>\r\n                        <input id=\"surname\" placeholder=\"Uzupełnij nazwisko\"\r\n                               onChange={this.handleChange.bind(this, \"surname\")} value={this.state.fields[\"surname\"]}/>\r\n                        <span style={{color: \"red\"}}>{this.state.errors[\"surname\"]}</span>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"email\">Adres e-mail</label><br/>\r\n                        <input id=\"email\" placeholder=\"Uzupełnij adres e-mail\"\r\n                               onChange={this.handleChange.bind(this, \"email\")}\r\n                               value={this.state.fields[\"email\"]}/>\r\n                        <span style={{color: \"red\"}}>{this.state.errors[\"email\"]}</span>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"query\">Treść pytania</label><br/>\r\n                        <textarea id=\"query\" onChange={this.handleChange.bind(this, \"query\")}\r\n                                  placeholder={\"Uzupełnij treść pytania\"}></textarea>\r\n                    </div>\r\n                    <span style={{color: \"red\"}}>{this.state.errors[\"query\"]}</span>\r\n                </fieldset>\r\n\r\n                <button type=\"submit\" className=\"btn btn-primary\">Wyślij</button>\r\n                {/*<button onClick={this.clearForm()}>Wyczyść</button>*/}\r\n            </form>\r\n        )\r\n    }\r\n\r\n    clearForm(){\r\n        this.state.fields[\"email\"] = '';\r\n        this.state.fields[\"name\"] = '';\r\n        this.state.fields[\"surname\"] = '';\r\n        this.state.fields[\"query\"] = '';\r\n        localStorage.setItem('contactName', '');\r\n        localStorage.setItem('contactSurname', '');\r\n        localStorage.setItem('contactEmail', '');\r\n        localStorage.setItem('contactQuery', '');\r\n        document.getElementById('query').value  = '';\r\n    }\r\n\r\n    contactSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.Validation()) {\r\n            this.clearForm();\r\n        } else {\r\n            // alert(\"Form has errors.\")\r\n        }\r\n\r\n    }\r\n\r\n    Validation() {\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let isValid = true;\r\n\r\n        //Name\r\n        if (!fields[\"name\"]) {\r\n            isValid = false;\r\n            errors[\"name\"] = \"Imię nie może być puste\";\r\n        }\r\n\r\n        if (typeof fields[\"name\"] !== \"undefined\") {\r\n            // if (!fields[\"name\"].match(/^[a-zA-Z]+$/)) {\r\n            if (!fields[\"name\"].match(/^[AaĄąBbCcĆćDdEeĘęFfGgHhIiJjKkLlŁłMmNnŃńOoÓóPpRrSsŚśTtUuWwYyZzŹźŻż]+$/)) {\r\n                isValid = false;\r\n                errors[\"name\"] = \"Niepoprawny znak\";\r\n            }\r\n        }\r\n        //surname\r\n        if (!fields[\"surname\"]) {\r\n            isValid = false;\r\n            errors[\"surname\"] = \"Nazwisko nie może być puste\";\r\n        }\r\n\r\n        if (typeof fields[\"surname\"] !== \"undefined\") {\r\n            if (!fields[\"surname\"].match(/^[a-zA-Z]+$/)) {\r\n                isValid = false;\r\n                errors[\"surname\"] = \"Niepoprawny znak\";\r\n            }\r\n        }\r\n        //email\r\n        if (!fields[\"email\"]) {\r\n            isValid = false;\r\n            errors[\"email\"] = \"Adres kontaktowy nie może być pusty\";\r\n        }\r\n        if (typeof fields[\"email\"] !== \"undefined\") {\r\n            let lastAtPos = fields[\"email\"].lastIndexOf('@');\r\n            let lastDotPos = fields[\"email\"].lastIndexOf('.');\r\n\r\n            if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') == -1 && lastDotPos > 2 && (fields[\"email\"].length - lastDotPos) > 2)) {\r\n                isValid = false;\r\n                errors[\"email\"] = \"Niepoprawny adres mailowy\";\r\n            }\r\n        }\r\n        // query\r\n        if (!fields[\"query\"]) {\r\n            isValid = false;\r\n            errors[\"query\"] = \"Treść pytania nie może być pusta\";\r\n        } else if (fields[\"query\"].length < 20) {\r\n            isValid = false;\r\n            errors[\"query\"] = 'Treść musi zawierać przynajmniej 20 znaków'\r\n        }\r\n        this.setState({errors: errors});\r\n\r\n        if(isValid) {\r\n            var mail = fields[\"email\"];\r\n            var surname = fields[\"surname\"];\r\n            var name = fields[\"name\"];\r\n            var query = fields[\"query\"];\r\n            console.log(JSON.stringify({mail, surname, name, query}));\r\n            sendMail({mail, surname, name, query})\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    handleChange(field, e) {\r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;\r\n        this.setState({fields});\r\n\r\n        if (fields[\"name\"]) {\r\n            localStorage.setItem('contactName', fields[\"name\"])\r\n        }\r\n        if (fields[\"surname\"]) {\r\n            localStorage.setItem('contactSurname', fields[\"surname\"])\r\n        }\r\n        if (fields[\"email\"]) {\r\n            localStorage.setItem('contactEmail', fields[\"email\"])\r\n        }\r\n        if (fields[\"query\"]) {\r\n            localStorage.setItem('contactQuery', fields[\"query\"])\r\n        }\r\n    }\r\n}\r\n\r\nfunction sendMail(contactMail) {\r\n    return fetch('http://localhost:8080/mail/sendMail', {\r\n        method: 'POST',\r\n        headers: {\r\n            Authorization: localStorage.getItem('tokenKey'),\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(contactMail)\r\n    })\r\n        .then(response => {\r\n            if (response.status >= 200 && response.status < 300) {\r\n                return response;\r\n                console.log(response);\r\n                window.location.reload();\r\n            } else {\r\n                console.log('Somthing happened wrong');\r\n            }\r\n        }).catch(err => err);\r\n}\r\n\r\nexport default Contract;","C:\\Users\\Bubus\\Desktop\\BudowanieInterfejsuUzytkownika\\BudowanieInterfejsu\\web\\state-class-tutorial\\src\\components\\Weather.js",["50"],{"ruleId":"51","severity":1,"message":"52","line":1,"column":17,"nodeType":"53","messageId":"54","endLine":1,"endColumn":25},{"ruleId":"51","severity":1,"message":"55","line":1,"column":27,"nodeType":"53","messageId":"54","endLine":1,"endColumn":36},{"ruleId":"51","severity":1,"message":"56","line":14,"column":10,"nodeType":"53","messageId":"54","endLine":14,"endColumn":16},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"51","severity":1,"message":"61","line":28,"column":15,"nodeType":"53","messageId":"54","endLine":28,"endColumn":22},{"ruleId":"51","severity":1,"message":"62","line":10,"column":9,"nodeType":"53","messageId":"54","endLine":10,"endColumn":16},{"ruleId":"63","severity":1,"message":"64","line":20,"column":1,"nodeType":"65","endLine":35,"endColumn":2},{"ruleId":"66","severity":1,"message":"67","line":52,"column":9,"nodeType":"68","endLine":52,"endColumn":26},{"ruleId":"66","severity":1,"message":"67","line":53,"column":9,"nodeType":"68","endLine":53,"endColumn":26},{"ruleId":"66","severity":1,"message":"67","line":54,"column":9,"nodeType":"68","endLine":54,"endColumn":26},{"ruleId":"66","severity":1,"message":"67","line":55,"column":9,"nodeType":"68","endLine":55,"endColumn":26},{"ruleId":"69","severity":1,"message":"70","line":112,"column":92,"nodeType":"71","messageId":"72","endLine":112,"endColumn":94},{"ruleId":"73","severity":1,"message":"74","line":171,"column":17,"nodeType":"75","messageId":"76","endLine":172,"endColumn":42},{"ruleId":"51","severity":1,"message":"77","line":2,"column":8,"nodeType":"53","messageId":"54","endLine":2,"endColumn":13},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Component' is defined but never used.","'Button' is defined but never used.","no-native-reassign",["78"],"no-negated-in-lhs",["79"],"'context' is assigned a value but never used.","'getRole' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unreachable","Unreachable code.","ExpressionStatement","unreachableCode","'Offer' is defined but never used.","no-global-assign","no-unsafe-negation"]